# local path
PATH=/usr/local/bin:/usr/local/sbin:$PATH

# ruby path
PATH=/usr/local/opt/ruby/bin:$PATH
gempath=$(gem environment gemdir 2> /dev/null)/bin
if [ $? -eq 0 ]; then
    PATH=$gempath:$PATH
fi

# node.js path
NODE_PATH=/usr/local/lib/node
export NODE_PATH
PATH=$PATH:/usr/local/share/npm/bin

# Homebrew settings
export HOMEBREW_NO_EMOJI=1
export HOMEBREW_DEVELOPER=1
export HOMEBREW_CLEANUP_MAX_AGE_DAYS=14 # be more aggressive with cleaning up
export HOMEBREW_SORBET_RUNTIME=1
export HOMEBREW_GIT_FILTER_TREE_ZERO=1

# Linuxbrew settings
case "$OSTYPE" in
    *linux*)
        export PATH="$HOME/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/bin:$PATH"
        ;;
esac

# add bintray keys if we are using `brew pull`
brew() {
    if [[ $1 == "pr-"* ]] || [[ $1 == "test-bot*" ]] || [[ $1 == "bump-formula-pr" ]] ; then
        # start a subshell with these settings
        (. "$HOME/.bintray_settings"; command brew "$@")
    else
        command brew "$@"
    fi
}


export PATH
