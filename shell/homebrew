# local path
PATH=/usr/local/bin:/usr/local/sbin:$PATH

# ruby path
PATH=/usr/local/opt/ruby/bin:$PATH
gempath=$(gem environment gemdir 2> /dev/null)/bin
if [ $? -eq 0 ]; then
    PATH=$gempath:$PATH
fi

# node.js path
NODE_PATH=/usr/local/lib/node
export NODE_PATH
PATH=$PATH:/usr/local/share/npm/bin

# Homebrew settings
export HOMEBREW_NO_EMOJI=1
export HOMEBREW_DEVELOPER=1
export HOMEBREW_AUTO_UPDATE_SECS=3600 # 1 hour

# Linuxbrew settings
case "$OSTYPE" in
    *linux*)
        export PATH="$HOME/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/bin:$PATH"
        ;;
esac

# add bintray keys if we are using `brew pull`
brew() {
    if [[ $1 == "pull"* ]] || [[ $1 == "test-bot-docker" ]] || [[ $1 == "bump-formula-pr" ]] ; then
        # start a subshell with these settings
        (source $HOME/.bintray_settings; command brew $@)
    else
        command brew $@
    fi
}

alias linuxbrew-pull='HOMEBREW_BOTTLE_DOMAIN=https://linuxbrew.bintray.com brew pull --bottle --bintray-org=linuxbrew --test-bot-user=LinuxbrewTestBot'

export PATH
