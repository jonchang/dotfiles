# ARM macOS
if test -f "/opt/homebrew/bin/brew"; then
    PATH=/opt/homebrew/bin:$PATH
fi

# Homebrew on Linux
case "$OSTYPE" in
    *linux*)
        PATH="$HOME/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/bin:$PATH"
        export HOMEBREW_BOTTLE_DOMAIN="https://ghcr.io/v2/homebrew/core"
        export HOMEBREW_CORE_GIT_REMOTE="https://github.com/Homebrew/homebrew-core"
        ;;
esac

HOMEBREW_PREFIX=$(brew --prefix)
# Add Homebrew's sbin
PATH=${HOMEBREW_PREFIX}/sbin:$PATH

# Ensure Ruby gems and brewed Ruby can come first, over system Ruby
PATH=${HOMEBREW_PREFIX}/opt/ruby/bin:$PATH
gempath=$(gem environment gemdir 2> /dev/null)/bin
if [ $? -eq 0 ]; then
    PATH=$gempath:$PATH
fi

# node.js path
NODE_PATH=${HOMEBREW_PREFIX}/lib/node
export NODE_PATH
PATH=$PATH:/usr/local/share/npm/bin

# Homebrew settings
export HOMEBREW_NO_EMOJI=1
export HOMEBREW_DEVELOPER=1
export HOMEBREW_SORBET_RUNTIME=1

export PATH
